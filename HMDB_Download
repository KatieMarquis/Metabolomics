import requests
import io
import os
import zipfile

#write function to download appropriate xml file from HMDB website (http://www.hmdb.ca/downloads) 
def download_file(url,filename):
    r = requests.get(url, allow_redirects=True)
    open(filename, 'wb').write(r.content)
    
#write function to unzip and delete xml file from HMDB 
def unzip_and_delete(filename):
    zip_file = zipfile.ZipFile(filename,'r')
    zip_file.extractall()
    zip_file.close()
    os.remove(filename)
    
#run functions
download_file("http://www.hmdb.ca/system/downloads/current/hmdb_metabolites.zip", 'hmdb_metabolites.zip')
unzip_and_delete('hmdb_metabolites.zip')
